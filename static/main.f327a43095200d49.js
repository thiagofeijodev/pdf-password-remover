(()=>{"use strict";var e,t,r,o,a,n,i,s,l,d,c={8125(e,t,r){var o=r(3712),a=r(538),n=r(1100),i=r(8780),s=r(6988);r(4979),r(4423);let l=async(e,t)=>{let r=n.YE({password:t,data:e});return await r.promise};var d=r(1140);async function c(e){let t=e.numPages,r=null;for(let o=1;o<=t;o++){let t=await e.getPage(o),a=t.getViewport({scale:2}),n=document.createElement("canvas"),i=n.getContext("2d");n.height=a.height,n.width=a.width,await t.render({canvasContext:i,viewport:a}).promise;let s=n.toDataURL("image/png"),l=a.width,c=a.height;1===o?(r=new d.Ay({orientation:l>c?"landscape":"portrait",unit:"px",format:[l,c]})).addImage(s,"PNG",0,0,l,c):(r.addPage([l,c]),r.addImage(s,"PNG",0,0,l,c))}return r.output("blob")}let u=(e,t)=>{let r=URL.createObjectURL(e),o=document.createElement("a");o.href=r;let a=t.replace(/\.pdf$/i,"");o.download=`${a}_unlocked.pdf`,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(r)};r(8140),r(5044),r(1903),r(1134),r(8845),r(373);let p=async e=>(function(e){try{return e.slice(0)}catch(o){console.warn("copyArrayBuffer slice failed, using fallback copy",o);let t=new Uint8Array(e),r=new Uint8Array(t.length);return r.set(t),r.buffer}})(await e.arrayBuffer()),f="pdfPasswordRemover_data";r(4114),r(6280);var m=r(1915);let g=null,h=async()=>{if(g)return g;try{console.log("[PDFium] Initializing pdfium.wasm...");let e=await fetch("https://cdn.jsdelivr.net/npm/@embedpdf/pdfium/dist/pdfium.wasm"),t=await e.arrayBuffer();return(g=await (0,m.T)({wasmBinary:t})).PDFiumExt_Init(),console.log("[PDFium] ✓ pdfium.wasm initialized"),g}catch(e){throw console.error("[PDFium] ✗ Failed to initialize pdfium:",e),e}},w=async(e,t)=>{let r=await h();try{console.log("[PDFium] Attempting direct PDF decryption..."),console.log(`[PDFium] PDF size: ${e.byteLength} bytes`);let o=e.byteLength,a=r.pdfium.wasmExports.malloc(o);new Uint8Array(r.pdfium.wasmExports.memory.buffer,a,o).set(new Uint8Array(e));let n=t||0;try{let t=r.FPDF_LoadMemDocument(a,o,n);if(!t){let t=r.FPDF_GetLastError();if(console.log(`[PDFium] Error code: ${t}`),4===t)throw Error("Password required or incorrect password");if(0===t||1===t)return r.pdfium.wasmExports.free(a),n&&r.pdfium.wasmExports.free(n),new Blob([e],{type:"application/pdf"});throw Error(`Failed to load PDF: error code ${t}`)}console.log("[PDFium] ✓ PDF loaded");let i=r.FPDF_GetPageCount(t);if(console.log(`[PDFium] ✓ PDF has ${i} pages`),i<=0)throw Error("Invalid PDF or unable to access pages");let s=[],l=r.pdfium.wasmExports.malloc(8),d=new DataView(r.pdfium.wasmExports.memory.buffer);d.setInt32(l,1,!0);let c=r.pdfium.addFunction((e,t,o)=>{try{let e=new Uint8Array(r.pdfium.wasmExports.memory.buffer,t,o);return s.push(new Uint8Array(e)),1}catch(e){return console.error("[PDFium] Error in WriteBlock callback:",e),0}},"iiii");if(d.setInt32(l+4,c,!0),console.log("[PDFium] Calling FPDF_SaveAsCopy..."),!r.FPDF_SaveAsCopy(t,l,3))throw console.error("[PDFium] ✗ Failed to save PDF"),r.pdfium.removeFunction(c),r.pdfium.wasmExports.free(l),r.FPDF_CloseDocument(t),Error("Failed to save PDF copy");console.log(`[PDFium] ✓ PDF saved successfully (${s.length} chunks)`);let u=s.reduce((e,t)=>e+t.length,0),p=new Uint8Array(u),f=0;for(let e of s)p.set(e,f),f+=e.length;console.log(`[PDFium] ✓ Combined PDF data: ${p.length} bytes`),r.pdfium.removeFunction(c),r.pdfium.wasmExports.free(l),r.FPDF_CloseDocument(t),console.log("[PDFium] ✓ PDF decrypted successfully"),console.log("[PDFium] savedPdfData type:",p.constructor.name),console.log("[PDFium] savedPdfData length:",p.length);let m=new Blob([p],{type:"application/pdf"});return console.log("[PDFium] Created blob:",m),console.log("[PDFium] Blob size:",m.size),console.log("[PDFium] Blob type:",m.type),m}finally{r.pdfium.wasmExports.free(a),n&&r.pdfium.wasmExports.free(n)}}catch(e){throw console.error("[PDFium] Direct decryption error:",e.message),e}},y=document.getElementById("root");if((0,a.createRoot)(y).render((0,o.jsx)(()=>{let{processPDFWithPdfium:e}=(()=>{let[e,t]=(0,i.useState)(!0);return(0,i.useEffect)(()=>{t(!1)},[]),{isLoading:e,processPDFWithPdfium:async(e,t)=>{try{let r;console.log("[Hook] Starting PDF processing with pdfium.wasm"),console.log("[Hook] PDF size:",e.byteLength,"bytes"),console.log("[Hook] Password length:",t.length,"characters");try{console.log("[Hook] Attempting direct decryption..."),r=await w(e,t),console.log("[Hook] ✓ Direct decryption succeeded")}catch(e){console.warn("[Hook] Direct decryption failed:",e.message)}return console.log("[Hook] Output size:",r.size,"bytes"),r}catch(e){throw console.error("[Hook] PDF processing error:",e),e}},isPdfiumAvailable:!e}})(),{password:t,isProcessing:r,error:a,fileName:n,file:d,handleFileChange:m,handlePasswordChange:g,handleRemovePassword:h}=(e=>{let[t,r]=(0,i.useState)(null),[o,a]=(0,i.useState)(""),[n,s]=(0,i.useState)(!1),[d,m]=(0,i.useState)(""),[g,h]=(0,i.useState)("");(0,i.useEffect)(()=>{try{let e=localStorage.getItem(f);if(e){let{password:t}=JSON.parse(e);if(t)try{let e=atob(t);a(e)}catch(e){console.warn("Failed to decode saved password:",e)}}}catch(e){console.warn("Failed to load from localStorage:",e)}},[]);let w=async()=>{if(!t)return void m("Please select a PDF file");if(!o)return void m("Please enter the PDF password");s(!0),m("");try{let r=await p(t);if(e){let t=await e(r,o);u(t,g)}else{let e=await l(r,o),t=await c(e);u(t,g)}s(!1)}catch(e){s(!1),e.message.includes("password")||e.message.includes("PasswordException")?m("Incorrect password. Please try again."):m("Error processing PDF: "+e.message)}};return{file:t,password:o,isProcessing:n,error:d,fileName:g,handleFileChange:e=>{let t=e.target.files[0];t&&(r(t),h(t.name),m(""))},handlePasswordChange:e=>{let t=e.target.value;a(t),m("");try{let e=btoa(t);localStorage.setItem(f,JSON.stringify({password:e}))}catch(e){console.warn("Failed to save password to localStorage:",e)}},handleRemovePassword:w}})(e);return(0,i.useEffect)(()=>{let e=process.env.REACT_APP_GA_ID;if(e){let t=document.createElement("script");t.async=!0,t.src=`https://www.googletagmanager.com/gtag/js?id=${e}`,document.head.appendChild(t),window.dataLayer=window.dataLayer||[],window.gtag=window.gtag||function(){window.dataLayer.push(arguments)},window.gtag("js",new Date),window.gtag("config",e)}},[]),(0,o.jsx)("div",{className:s.container,children:(0,o.jsxs)("div",{className:s.card,children:[(0,o.jsx)("h1",{className:s.title,children:"PDF Password Remover"}),(0,o.jsx)("p",{className:s.subtitle,children:"Upload a password-protected PDF and remove its password protection"}),(0,o.jsxs)("div",{className:s.form,children:[(0,o.jsxs)("div",{className:s.inputGroup,children:[(0,o.jsx)("label",{htmlFor:"pdf-input",className:s.label,children:"Select PDF File"}),(0,o.jsx)("input",{id:"pdf-input",type:"file",accept:".pdf,application/pdf",onChange:m,className:s.fileInput,disabled:r}),n&&(0,o.jsx)("div",{className:s.fileName,children:(0,o.jsxs)("span",{children:["Selected: ",n]})})]}),(0,o.jsxs)("div",{className:s.inputGroup,children:[(0,o.jsx)("label",{htmlFor:"password-input",className:s.label,children:"PDF Password"}),(0,o.jsx)("input",{id:"password-input",type:"password",value:t,onChange:g,placeholder:"Enter the PDF password",className:s.passwordInput,disabled:r,onKeyDown:e=>{"Enter"===e.key&&h()}})]}),a&&(0,o.jsx)("div",{className:s.error,children:a}),(0,o.jsx)("button",{onClick:h,disabled:r||!d||!t,className:s.button,children:r?"Processing...":"Remove Password & Download"})]}),(0,o.jsxs)("div",{className:s.info,children:[(0,o.jsx)("p",{children:"\uD83D\uDD12 All processing is done in your browser"}),(0,o.jsx)("p",{children:"\uD83D\uDCC1 Your files never leave your device"})]})]})})},{})),"undefined"!=typeof window){let e=n.rE;n.EA.workerSrc=`https://cdn.jsdelivr.net/npm/pdfjs-dist@${e}/build/pdf.worker.min.mjs`}"serviceWorker"in navigator&&navigator.serviceWorker.register("service-worker.js")},6988(e,t,r){e.exports={container:"_83e95e8b324c7cd1-container",card:"_83e95e8b324c7cd1-card",fadeIn:"_83e95e8b324c7cd1-fadeIn",title:"_83e95e8b324c7cd1-title",subtitle:"_83e95e8b324c7cd1-subtitle",form:"_83e95e8b324c7cd1-form",inputGroup:"_83e95e8b324c7cd1-inputGroup",label:"_83e95e8b324c7cd1-label",fileInput:"_83e95e8b324c7cd1-fileInput",fileName:"_83e95e8b324c7cd1-fileName",passwordInput:"_83e95e8b324c7cd1-passwordInput",error:"_83e95e8b324c7cd1-error",button:"_83e95e8b324c7cd1-button",info:"_83e95e8b324c7cd1-info"}}},u={};function p(e){var t=u[e];if(void 0!==t)return t.exports;var r=u[e]={exports:{}};return c[e].call(r.exports,r,r.exports,p),r.exports}p.m=c,p.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return p.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,p.t=function(r,o){if(1&o&&(r=this(r)),8&o||"object"==typeof r&&r&&(4&o&&r.__esModule||16&o&&"function"==typeof r.then))return r;var a=Object.create(null);p.r(a);var n={};e=e||[null,t({}),t([]),t(t)];for(var i=2&o&&r;("object"==typeof i||"function"==typeof i)&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach(e=>{n[e]=()=>r[e]});return n.default=()=>r,p.d(a,n),a},p.d=(e,t)=>{for(var r in t)p.o(t,r)&&!p.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},p.f={},p.e=e=>Promise.all(Object.keys(p.f).reduce((t,r)=>(p.f[r](e,t),t),[])),p.k=e=>""+e+".css",p.u=e=>"static/"+e+"."+({255:"0a3a875d235a37c5",463:"3253f49fb70e2ddb",911:"f172cb674ba4ec05"})[e]+".js",p.g=(()=>{if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}})(),p.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r={},p.l=function(e,t,o,a){if(r[e])return void r[e].push(t);if(void 0!==o)for(var n,i,s=document.getElementsByTagName("script"),l=0;l<s.length;l++){var d=s[l];if(d.getAttribute("src")==e||d.getAttribute("data-rspack")=="pdf-password-remover:"+o){n=d;break}}n||(i=!0,(n=document.createElement("script")).timeout=120,p.nc&&n.setAttribute("nonce",p.nc),n.setAttribute("data-rspack","pdf-password-remover:"+o),n.src=e),r[e]=[t];var c=function(t,o){n.onerror=n.onload=null,clearTimeout(u);var a=r[e];if(delete r[e],n.parentNode&&n.parentNode.removeChild(n),a&&a.forEach(function(e){return e(o)}),t)return t(o)},u=setTimeout(c.bind(null,void 0,{type:"timeout",target:n}),12e4);n.onerror=c.bind(null,n.onerror),n.onload=c.bind(null,n.onload),i&&document.head.appendChild(n)},p.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o=[],p.O=(e,t,r,a)=>{if(t){a=a||0;for(var n=o.length;n>0&&o[n-1][2]>a;n--)o[n]=o[n-1];o[n]=[t,r,a];return}for(var i=1/0,n=0;n<o.length;n++){for(var[t,r,a]=o[n],s=!0,l=0;l<t.length;l++)(!1&a||i>=a)&&Object.keys(p.O).every(e=>p.O[e](t[l]))?t.splice(l--,1):(s=!1,a<i&&(i=a));if(s){o.splice(n--,1);var d=r();void 0!==d&&(e=d)}}return e},p.p="/pdf-password-remover",p.rv=()=>"1.6.6",a={889:0},i="data-rspack-loading",(n=(e,t)=>{a[t]=0})(p.m,0,"889"),p.f.css=(e,t,r)=>{var o=p.o(a,e)?a[e]:void 0;if(0!==o)if(o)t.push(o[2]);else if(889==e){var s=new Promise(function(t,r){o=a[e]=[t,r]});t.push(o[2]=s);var l=p.p+p.k(e),d=Error(),c=function(t){if(p.o(a,e)&&(0!==(o=a[e])&&(a[e]=void 0),o))if("load"!==t.type){var r=t&&t.type,i=t&&t.target&&t.target.src;d.message="Loading css chunk "+e+" failed.\n("+r+": "+i+")",d.name="ChunkLoadError",d.type=r,d.request=i,o[1](d)}else n(p.m,e),o[0]()};"undefined"!=typeof document?((e,t,r,o,a)=>{var n,s,l="chunk-"+e;if(!o){for(var d=document.getElementsByTagName("link"),c=0;c<d.length;c++){var u=d[c],f=u.getAttribute("href")||u.href;if(f&&!f.startsWith(p.p)&&(f=p.p+(f.startsWith("/")?f.slice(1):f)),"stylesheet"==u.rel&&(f&&f.startsWith(t)||u.getAttribute("data-rspack")=="pdf-password-remover:"+l)){n=u;break}}if(!r)return}n||(s=!0,n=document.createElement("link"),p.nc&&n.setAttribute("nonce",p.nc),n.setAttribute("data-rspack","pdf-password-remover:"+l),n.setAttribute(i,1),n.rel="stylesheet",n.href=t);var m=(e,t)=>{if(n.onerror=n.onload=null,n.removeAttribute(i),clearTimeout(g),t&&"load"!=t.type&&n.parentNode.removeChild(n),r(t),e)return e(t)};if(n.getAttribute(i)){var g=setTimeout(m.bind(null,void 0,{type:"timeout",target:n}),12e4);n.onerror=m.bind(null,n.onerror),n.onload=m.bind(null,n.onload)}else m(void 0,{type:"load",target:n});return o&&o.getAttribute("fetchpriority")&&n.setAttribute("fetchpriority",o.getAttribute("fetchpriority")),o?document.head.insertBefore(n,o):s&&document.head.appendChild(n)})(e,l,c,void 0,0):c({type:"load"})}else a[e]=0},p.b=document.baseURI||self.location.href,s={889:0},p.f.j=function(e,t){var r=p.o(s,e)?s[e]:void 0;if(0!==r)if(r)t.push(r[2]);else{var o=new Promise((t,o)=>r=s[e]=[t,o]);t.push(r[2]=o);var a=p.p+p.u(e),n=Error();p.l(a,function(t){if(p.o(s,e)&&(0!==(r=s[e])&&(s[e]=void 0),r)){var o=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;n.message="Loading chunk "+e+" failed.\n("+o+": "+a+")",n.name="ChunkLoadError",n.type=o,n.request=a,r[1](n)}},"chunk-"+e,e)}},p.O.j=e=>0===s[e],l=(e,t)=>{var r,o,[a,n,i]=t,l=0;if(a.some(e=>0!==s[e])){for(r in n)p.o(n,r)&&(p.m[r]=n[r]);if(i)var d=i(p)}for(e&&e(t);l<a.length;l++)o=a[l],p.o(s,o)&&s[o]&&s[o][0](),s[o]=0;return p.O(d)},(d=self.webpackChunkpdf_password_remover=self.webpackChunkpdf_password_remover||[]).forEach(l.bind(null,0)),d.push=l.bind(null,d.push.bind(d)),p.ruid="bundler=rspack@1.6.6";var f=p.O(void 0,["680"],()=>p(8125));f=p.O(f)})();