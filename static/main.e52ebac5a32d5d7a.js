(()=>{"use strict";var e,r,t,o,a={1242(e,r,t){var o=t(3712),a=t(538),s=t(8780),c=t(6988);t(4979),t(4423),t(8140),t(5044),t(1903),t(1134),t(8845),t(373);let n=async e=>(function(e){try{return e.slice(0)}catch(o){console.warn("copyArrayBuffer slice failed, using fallback copy",o);let r=new Uint8Array(e),t=new Uint8Array(r.length);return t.set(r),t.buffer}})(await e.arrayBuffer()),l="pdfPasswordRemover_data";t(4114),t(6280);var i=t(1915);let d=null,p=async()=>{if(d)return d;try{let e=await fetch("https://feijo.dev/pdf-password-remover/pdfium.wasm"),r=await e.arrayBuffer();return(d=await (0,i.T)({wasmBinary:r})).PDFiumExt_Init(),d}catch(e){throw console.error("[PDFium] Failed to initialize:",e),e}},u=async(e,r)=>{let t=await p(),o=t.pdfium.wasmExports,a=t.pdfium.wasmExports.memory.buffer,s=e.byteLength,c=o.malloc(s);new Uint8Array(a,c,s).set(new Uint8Array(e));try{let n=t.FPDF_LoadMemDocument(c,s,r||0);if(!n){let r=t.FPDF_GetLastError();if(4===r)throw Error("Password required or incorrect password");if(0===r||1===r)return new Blob([e],{type:"application/pdf"});throw Error(`Failed to load PDF: error code ${r}`)}if(0>=t.FPDF_GetPageCount(n))throw Error("Invalid PDF or unable to access pages");let l=[],i=o.malloc(8),d=new DataView(a);d.setInt32(i,1,!0);let p=t.pdfium.addFunction((e,r,t)=>{try{let e=new Uint8Array(a,r,t);return l.push(new Uint8Array(e)),1}catch(e){return console.error("[PDFium] WriteBlock error:",e),0}},"iiii");if(d.setInt32(i+4,p,!0),!t.FPDF_SaveAsCopy(n,i,3))throw Error("Failed to save PDF copy");let u=l.reduce((e,r)=>e+r.length,0),f=new Uint8Array(u),h=0;for(let e of l)f.set(e,h),h+=e.length;return t.pdfium.removeFunction(p),o.free(i),t.FPDF_CloseDocument(n),new Blob([f],{type:"application/pdf"})}catch(e){throw console.error("[PDFium] Decryption error:",e.message),e}finally{o.free(c)}},f=t.p+"7d99c485a2ac870cf4dd4fbd4a6d8285.png",h=document.getElementById("root");(0,a.createRoot)(h).render((0,o.jsx)(()=>{let{processPDFWithPdfium:e}=(()=>{let[e,r]=(0,s.useState)(!0);return(0,s.useEffect)(()=>{r(!1)},[]),{isLoading:e,processPDFWithPdfium:async(e,r)=>{try{let t;console.log("[Hook] Starting PDF processing with pdfium.wasm"),console.log("[Hook] PDF size:",e.byteLength,"bytes"),console.log("[Hook] Password length:",r.length,"characters");try{console.log("[Hook] Attempting direct decryption..."),t=await u(e,r),console.log("[Hook] ✓ Direct decryption succeeded")}catch(e){console.warn("[Hook] Direct decryption failed:",e.message)}return console.log("[Hook] Output size:",t.size,"bytes"),t}catch(e){throw console.error("[Hook] PDF processing error:",e),e}},isPdfiumAvailable:!e}})(),{password:r,isProcessing:t,error:a,fileName:i,file:d,savePassword:p,handleFileChange:h,handlePasswordChange:w,handleSavePasswordChange:m,handleRemovePassword:b}=(e=>{let[r,t]=(0,s.useState)(null),[o,a]=(0,s.useState)(""),[c,i]=(0,s.useState)(!1),[d,p]=(0,s.useState)(""),[u,f]=(0,s.useState)(""),[h,w]=(0,s.useState)(!0);(0,s.useEffect)(()=>{try{let e=localStorage.getItem(l);if(e){let{password:r}=JSON.parse(e);if(r)try{let e=atob(r);a(e)}catch(e){console.warn("Failed to decode saved password:",e)}}}catch(e){console.warn("Failed to load from localStorage:",e)}},[]);let m=async()=>{if(!r)return void p("Please select a PDF file");if(!o)return void p("Please enter the PDF password");i(!0),p("");try{var t;let a,s,c,l=await n(r,o);t=await e(l,o),a=URL.createObjectURL(t),(s=document.createElement("a")).href=a,c=u.replace(/\.pdf$/i,""),s.download=`${c}_unlocked.pdf`,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(a),i(!1)}catch(e){i(!1),e.message.includes("password")||e.message.includes("PasswordException")?p("Incorrect password. Please try again."):p("Error processing PDF: "+e.message)}};return{file:r,password:o,isProcessing:c,error:d,fileName:u,savePassword:h,handleFileChange:e=>{let r=e.target.files[0];r&&(t(r),f(r.name),p(""))},handlePasswordChange:e=>{let r=e.target.value;a(r),p("");try{if(h){let e=btoa(r);localStorage.setItem(l,JSON.stringify({password:e}))}else localStorage.setItem(l,JSON.stringify({password:""}))}catch(e){console.warn("Failed to save password to localStorage:",e)}},handleSavePasswordChange:e=>{let r=e.target.checked;w(r);try{r||(a(""),localStorage.setItem(l,JSON.stringify({password:""})))}catch(e){console.warn("Failed to update localStorage:",e)}},handleRemovePassword:m}})(e);return(0,s.useEffect)(()=>{let e="G-VBDCVYHXVZ";if(e){let r=document.createElement("script");r.async=!0,r.src=`https://www.googletagmanager.com/gtag/js?id=${e}`,document.head.appendChild(r),window.dataLayer=window.dataLayer||[],window.gtag=window.gtag||function(){window.dataLayer.push(arguments)},window.gtag("js",new Date),window.gtag("config",e)}},[]),(0,o.jsxs)("div",{className:c.container,children:[(0,o.jsxs)("div",{className:c.card,children:[(0,o.jsx)("img",{src:f,alt:"PDF Password Remover Logo",className:c.logo}),(0,o.jsx)("h1",{className:c.title,children:"PDF Password Remover"}),(0,o.jsx)("p",{className:c.subtitle,children:"Upload a password-protected PDF and remove its password protection"}),(0,o.jsxs)("div",{className:c.form,children:[(0,o.jsxs)("div",{className:c.inputGroup,children:[(0,o.jsx)("label",{htmlFor:"pdf-input",className:c.label,children:"Select PDF File"}),(0,o.jsx)("input",{id:"pdf-input",type:"file",accept:".pdf,application/pdf",onChange:h,className:c.fileInput,disabled:t}),i&&(0,o.jsx)("div",{className:c.fileName,children:(0,o.jsxs)("span",{children:["Selected: ",i]})})]}),(0,o.jsxs)("div",{className:c.inputGroup,children:[(0,o.jsx)("label",{htmlFor:"password-input",className:c.label,children:"PDF Password"}),(0,o.jsx)("input",{id:"password-input",type:"password",value:r,onChange:w,placeholder:"Enter the PDF password",className:c.passwordInput,disabled:t,onKeyDown:e=>{"Enter"===e.key&&b()}}),(0,o.jsxs)("div",{className:c.checkboxGroup,children:[(0,o.jsx)("input",{id:"save-password-checkbox",type:"checkbox",checked:p,onChange:m,className:c.checkbox,disabled:t}),(0,o.jsx)("label",{htmlFor:"save-password-checkbox",className:c.checkboxLabel,children:"Save password for next time"})]})]}),a&&(0,o.jsx)("div",{className:c.error,children:a}),(0,o.jsx)("button",{onClick:b,disabled:t||!d||!r,className:c.button,children:t?"Processing...":"Remove Password & Download"})]}),(0,o.jsxs)("div",{className:c.info,children:[(0,o.jsx)("p",{children:"\uD83D\uDD12 All processing is done in your browser"}),(0,o.jsx)("p",{children:"\uD83D\uDCC1 Your files never leave your device"}),(0,o.jsx)("p",{children:"⚙️ Built with WebAssembly & PDFium"})]})]}),(0,o.jsxs)("footer",{className:c.footer,children:["developed by"," ",(0,o.jsx)("a",{href:"https://feijo.dev",target:"_blank",rel:"noopener noreferrer",children:"feijo.dev"})]})]})},{})),"serviceWorker"in navigator&&navigator.serviceWorker.register("service-worker.js")},6988(e,r,t){e.exports={container:"_83e95e8b324c7cd1-container",card:"_83e95e8b324c7cd1-card",fadeIn:"_83e95e8b324c7cd1-fadeIn",logo:"_83e95e8b324c7cd1-logo",title:"_83e95e8b324c7cd1-title",subtitle:"_83e95e8b324c7cd1-subtitle",form:"_83e95e8b324c7cd1-form",inputGroup:"_83e95e8b324c7cd1-inputGroup",label:"_83e95e8b324c7cd1-label",fileInput:"_83e95e8b324c7cd1-fileInput",fileName:"_83e95e8b324c7cd1-fileName",passwordInput:"_83e95e8b324c7cd1-passwordInput",checkboxGroup:"_83e95e8b324c7cd1-checkboxGroup",checkbox:"_83e95e8b324c7cd1-checkbox",checkboxLabel:"_83e95e8b324c7cd1-checkboxLabel",error:"_83e95e8b324c7cd1-error",button:"_83e95e8b324c7cd1-button",info:"_83e95e8b324c7cd1-info",footer:"_83e95e8b324c7cd1-footer"}}},s={};function c(e){var r=s[e];if(void 0!==r)return r.exports;var t=s[e]={exports:{}};return a[e].call(t.exports,t,t.exports,c),t.exports}c.m=a,c.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return c.d(r,{a:r}),r},c.d=(e,r)=>{for(var t in r)c.o(r,t)&&!c.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})},c.k=e=>""+e+".css",c.g=(()=>{if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}})(),c.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),c.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},e=[],c.O=(r,t,o,a)=>{if(t){a=a||0;for(var s=e.length;s>0&&e[s-1][2]>a;s--)e[s]=e[s-1];e[s]=[t,o,a];return}for(var n=1/0,s=0;s<e.length;s++){for(var[t,o,a]=e[s],l=!0,i=0;i<t.length;i++)(!1&a||n>=a)&&Object.keys(c.O).every(e=>c.O[e](t[i]))?t.splice(i--,1):(l=!1,a<n&&(n=a));if(l){e.splice(s--,1);var d=o();void 0!==d&&(r=d)}}return r},c.p="/pdf-password-remover/",c.rv=()=>"1.6.6",c.b=document.baseURI||self.location.href,r={889:0},c.O.j=e=>0===r[e],t=(e,t)=>{var o,a,[s,n,l]=t,i=0;if(s.some(e=>0!==r[e])){for(o in n)c.o(n,o)&&(c.m[o]=n[o]);if(l)var d=l(c)}for(e&&e(t);i<s.length;i++)a=s[i],c.o(r,a)&&r[a]&&r[a][0](),r[a]=0;return c.O(d)},(o=self.webpackChunkpdf_password_remover=self.webpackChunkpdf_password_remover||[]).forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o)),c.ruid="bundler=rspack@1.6.6";var n=c.O(void 0,["258"],()=>c(1242));n=c.O(n)})();